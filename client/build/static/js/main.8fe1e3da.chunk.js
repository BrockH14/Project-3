(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(27),c=t.n(l),o=(t(72),t(127)),i=t(65),s=(t(36),t(20)),m=t(21),u=t(24),d=t(22),p=t(25);var h=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"my-container"},e.results.map(function(a){return r.a.createElement("div",{key:a.uniqueKey,className:"card text-center"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,r.a.createElement("i",{className:a.storeLogo})," ",a.store)),r.a.createElement("img",{src:a.image,className:"card-img-top item-img",alt:"Target Item"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:a.link},r.a.createElement("h5",{className:"card-title"},a.title)),r.a.createElement("h4",{className:"card-title item-price"},a.price),r.a.createElement("button",{onClick:function(){return e.handleFormDel(a)},className:"btn btn-danger"},"Delete Item")))}))))},E=t(12),f=t.n(E),g={getSaved:function(){return f.a.get("/api/item")},getSavedById:function(e){return f.a.get("/api/item/"+e)},delete:function(e){return f.a.delete("/api/item/"+e)},saveItem:function(e){return f.a.post("/api/item",e)}};var v=function(e){var a=e.children;return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},a))},b=t(64),y=t(128),N=t(118),w=t(119),k=t(120),S=t(121),x=t(122),L=t(123),q=t(124),C=t(125),F=t(57),I=t(129),j=t(130),O=t(131),R=t(126),_=t(13),z=function(){var e=Object(n.useState)(!1),a=Object(b.a)(e,2),t=a[0],l=a[1],c=Object(_.b)(),o=c.user,i=c.isAuthenticated,s=c.loginWithRedirect,m=c.logout,u=function(){return m({returnTo:window.location.origin})};return r.a.createElement("div",{className:"nav-container"},r.a.createElement(N.a,{color:"light",light:!0,expand:"md"},r.a.createElement(w.a,null,r.a.createElement(k.a,{className:"logo"}),r.a.createElement(S.a,{onClick:function(){return l(!t)}}),r.a.createElement(x.a,{isOpen:t,navbar:!0},r.a.createElement(L.a,{className:"mr-auto",navbar:!0},r.a.createElement(q.a,null,r.a.createElement(C.a,{tag:y.a,to:"/",exact:!0,activeClassName:"router-link-exact-active"},"Home")),i&&r.a.createElement(q.a,null,r.a.createElement(C.a,{tag:y.a,to:"/profile",exact:!0,activeClassName:"router-link-exact-active"},"Saved Items"))),r.a.createElement(L.a,{className:"d-none d-md-block",navbar:!0},!i&&r.a.createElement(q.a,null,r.a.createElement(F.a,{id:"qsLoginBtn",color:"primary",className:"btn-margin",onClick:function(){return s()}},"Log in")),i&&r.a.createElement(I.a,{nav:!0,inNavbar:!0},r.a.createElement(j.a,{nav:!0,caret:!0,id:"profileDropDown"},r.a.createElement("img",{src:o.picture,alt:"Profile",className:"nav-user-profile rounded-circle",width:"50"})),r.a.createElement(O.a,null,r.a.createElement(R.a,{header:!0},o.name),r.a.createElement(R.a,{tag:y.a,to:"/profile",className:"dropdown-profile",activeClassName:"router-link-exact-active"}),r.a.createElement(R.a,{id:"qsLogoutBtn",onClick:function(){return u()}})))),!i&&r.a.createElement(L.a,{className:"d-md-none",navbar:!0},r.a.createElement(q.a,null,r.a.createElement(F.a,{id:"qsLoginBtn",color:"primary",block:!0,onClick:function(){return s({})}},"Log in"))),i&&r.a.createElement(L.a,{className:"d-md-none justify-content-between",navbar:!0,style:{minHeight:170}},r.a.createElement(q.a,null,r.a.createElement("span",{className:"user-info"},r.a.createElement("img",{src:o.picture,alt:"Profile",className:"nav-user-profile d-inline-block rounded-circle mr-3",width:"50"}),r.a.createElement("h6",{className:"d-inline-block"},o.name))),r.a.createElement(q.a,null,r.a.createElement(y.a,{to:"/profile",activeClassName:"router-link-exact-active"},"Profile")),r.a.createElement(q.a,null,r.a.createElement(y.a,{to:"#",id:"qsLogoutBtn",onClick:function(){return u()}},"Log out")))))))},A=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={savedItem:[],results:[]},t.load=function(){g.getSaved().then(function(e){return t.setState({results:e.data})})},t.handleFormDel=function(e){g.delete(e._id).then(function(e){return t.load()}).catch(function(e){return console.log(e)})},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.load()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement(v,null,r.a.createElement("h1",{className:"display-4"},"Shopalooza"),r.a.createElement("br",null),r.a.createElement("p",{className:"lead"},"All your saved items!")),r.a.createElement(h,{results:this.state.results,handleFormDel:this.handleFormDel}))}}]),a}(n.Component);var W=function(e){return r.a.createElement("div",{className:"my-container"},r.a.createElement("form",{className:"pure-form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-11"},r.a.createElement("input",{id:"name",value:e.q,className:"input-group pure-input-rounded",type:"text",placeholder:"Search...",name:"q",onChange:e.handleInputChange,required:!0})),r.a.createElement("div",{className:"col-1"},r.a.createElement("button",{className:"btn btn-primary btn-sm",type:"submit",onClick:e.handleFormSubmit},"Search")))))};var D=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"container my-container"},e.results.map(function(a){return r.a.createElement("div",{key:a.uniqueKey,className:"card text-center"},r.a.createElement("div",{className:"card-header target-header"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-bullseye target-logo"})," ",a.store)),r.a.createElement("img",{src:a.image,className:"card-img-top item-img",alt:"Target Item"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:a.link},r.a.createElement("h5",{className:"card-title"},a.title)),r.a.createElement("h4",{className:"card-title item-price"},a.price),r.a.createElement("button",{onClick:function(){return e.handleFormSaveT(a)},className:"btn btn-primary"},"Save Item")))}))),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"container my-container"},e.amazonResults.map(function(a){return r.a.createElement("div",{key:a.uniqueKey,className:"card text-center"},r.a.createElement("div",{className:"card-header amazon-header"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fab fa-amazon amazon-logo"})," ",a.store)),r.a.createElement("img",{src:a.image,className:"card-img-top item-img",alt:"Amazon Item"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:a.link},r.a.createElement("h5",{className:"card-title"},a.title)),r.a.createElement("h4",{className:"card-title item-price"},a.price),r.a.createElement("button",{onClick:function(){return e.handleFormSaveA(a)},className:"btn btn-primary"},"Save Item")))}))),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"container my-container"},e.walmartResults.map(function(a){return r.a.createElement("div",{key:a.uniqueKey,className:"card text-center"},r.a.createElement("div",{className:"card-header walmart-header"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-star-of-life walmart-name"})," ",a.store)),r.a.createElement("img",{src:a.image,className:"card-img-top item-img",alt:"Amazon Item"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:a.link},r.a.createElement("h5",{className:"card-title"},a.title)),r.a.createElement("h4",{className:"card-title item-price"},a.price),r.a.createElement("button",{onClick:function(){return e.handleFormSaveW(a)},className:"btn btn-primary"},"Save Item")))}))))},K=t(60),T=t.n(K),B=t(61),P=t.n(B),U=t(62),J=t.n(U),Q=t(63),G=t.n(Q),Y=function(){var e=Object(_.b)().logout;return r.a.createElement("button",{onClick:function(){return e()}},"Log Out")},H=function(){var e=Object(_.b)().loginWithRedirect;return r.a.createElement("button",{onClick:function(){return e()}},"Log In")},$=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={saved:[],q:"",wq:[],results:[],amazonResults:[],walmartResults:[],uniqueKey:0,isLoggedIn:!1},t.handleInputChange=function(e){t.setState({q:e.target.value})},t.handleFormSubmit=function(e){e.preventDefault(),T.a.WalmartFindURL(t.state.q).then(function(e){for(var a=[],n=0;n<15;n++){var r=e.data.foundProducts[n];a.push(r),t.setState({wq:a})}t.getWalmart()}).catch(function(e){return console.log(e)});var a=[];G.a.TargetFind(t.state.q).then(function(e){for(var n=0;n<15;n++){var r={title:e.data.products[n].title,image:e.data.products[n].images[0].base_url+e.data.products[n].images[0].primary,price:e.data.products[n].price.formatted_current_price,link:"https://www.target.com"+e.data.products[n].url,store:"Target",storeLogo:"fas fa-bullseye target-logo",uniqueKey:t.state.uniqueKey++};a.push(r),t.setState({results:a}),t.getResults()}}).catch(function(e){return console.log(e)});var n=[];J.a.AmazonFind(t.state.q).then(function(e){for(var a=0;a<15;a++)if(e.data.search_results[a].prices){var r={title:e.data.search_results[a].title,image:e.data.search_results[a].image,price:e.data.search_results[a].prices[0].raw,link:e.data.search_results[a].link,store:"Amazon",storeLogo:"fab fa-amazon amazon-logo",uniqueKey:t.state.uniqueKey++};n.push(r),t.setState({amazonResults:n})}else console.log("no price");t.getResults()}).catch(function(e){return console.log(e)})},t.handleFormSaveA=function(e){g.saveItem({id:e.uniqueKey,title:e.title,price:e.price,image:e.image,link:e.link,store:e.store,storeLogo:e.storeLogo}).catch(function(e){return console.log(e)}),alert("You saved an item!")},t.handleFormSaveT=function(e){g.saveItem({id:e.uniqueKey,title:e.title,price:e.price,image:e.image,link:e.link,store:e.store,storeLogo:e.storeLogo}).catch(function(e){return console.log(e)}),alert("You saved an item!")},t.handleFormSaveW=function(e){g.saveItem({id:e.uniqueKey,title:e.title,price:e.price,image:e.image,link:e.link,store:e.store,storeLogo:e.storeLogo}).catch(function(e){return console.log(e)}),alert("You saved an item!")},t.handleLogin=function(e){e.preventDefault(),t.setState({isLoggedIn:!0})},t.handleLogout=function(e){e.preventDefault(),t.setState({isLoggedIn:!1})},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"getResults",value:function(){}},{key:"getWalmart",value:function(){for(var e=this,a=[],t=0;t<15;t++)P.a.WalmartFind(this.state.wq[t]).then(function(n){var r={title:n.data.productTitle,image:n.data.imageUrlList[0],price:"$"+n.data.price,link:"https://www.walmart.com"+e.state.wq[t],store:"Walmart",storeLogo:"fas fa-star-of-life walmart-name",uniqueKey:e.state.uniqueKey++};a.push(r),e.setState({walmartResults:a})}).catch(function(e){return console.log(e)});this.getResults()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z,null,this.state.isLoggedIn?r.a.createElement(Y,{onClick:this.handleLogout}):r.a.createElement(H,{onClick:this.handleLogin})),r.a.createElement(v,null,r.a.createElement("h1",{className:"display-4"},"Shopalooza"),r.a.createElement("br",null),r.a.createElement("p",{className:"lead"},"Compare and Shop for all your favorite items!")),r.a.createElement(W,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,q:this.state.q}),r.a.createElement(D,{results:this.state.results,amazonResults:this.state.amazonResults,walmartResults:this.state.walmartResults,handleFormSaveA:this.handleFormSaveA,handleFormSaveT:this.handleFormSaveT,handleFormSaveW:this.handleFormSaveW}),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component);var M=function(e){return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",{className:"display-4 justify-content-center"},"Sign in"),r.a.createElement("form",{class:"pure-form"},r.a.createElement("fieldset",{class:"pure-group"},r.a.createElement("input",{type:"email",class:"pure-input-1",placeholder:"Email"}),r.a.createElement("input",{type:"text",class:"pure-input-1",placeholder:"Password"})),r.a.createElement("button",{type:"submit",class:"pure-button pure-input-1 pure-button-primary"},"Login")))},V=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={savedItem:[],results:[]},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z,null,this.state.isLoggedIn?r.a.createElement(Y,null):r.a.createElement(H,null)),r.a.createElement(v,null,r.a.createElement(M,null)))}}]),a}(n.Component);var X=function(e){return r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement("div",{className:"register-user"},r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{class:"pure-form",method:"post",action:"/register"},r.a.createElement("h2",{className:"text-center"},"Register"),r.a.createElement("fieldset",{class:"pure-group"},r.a.createElement("input",{type:"text",class:"pure-input-1",placeholder:"Username"}),r.a.createElement("input",{type:"text",class:"pure-input-1",placeholder:"Password"}),r.a.createElement("input",{type:"email",class:"pure-input-1",placeholder:"Email"})),r.a.createElement("button",{type:"submit",class:"pure-button pure-input-1 pure-button-primary"},"Sign in")))))};var Z=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(i.a,{exact:!0,path:"/",component:$}),r.a.createElement(i.a,{exact:!0,path:"/profile",component:A}),r.a.createElement(i.a,{exact:!0,path:"/login",component:V}),r.a.createElement(i.a,{exact:!0,path:"/register",component:X})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_.a,{domain:"dev-brock.us.auth0.com",clientId:"yrprx63S6oWL5vJ859R6wfLrpr0QE5jJ",redirectUri:window.location.origin},r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},36:function(e,a,t){},60:function(e,a,t){var n=t(12);e.exports={WalmartFindURL:function(e){return n({method:"GET",url:"https://axesso-walmart-data-service.p.rapidapi.com/wlm/walmart-search-by-keyword",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"axesso-walmart-data-service.p.rapidapi.com","x-rapidapi-key":"7c1420d017mshe6508c373b28efap1c3cc9jsn09b491aa2128",useQueryString:!0},params:{sortBy:"best_match",page:"1",keyword:e,type:"text"}}).catch(function(e){console.log(e)})}}},61:function(e,a,t){var n=t(12);e.exports={WalmartFind:function(e){return n({method:"GET",url:"https://axesso-walmart-data-service.p.rapidapi.com/wlm/walmart-lookup-product",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"axesso-walmart-data-service.p.rapidapi.com","x-rapidapi-key":"7c1420d017mshe6508c373b28efap1c3cc9jsn09b491aa2128",useQueryString:!0},params:{url:"https://www.walmart.com"+e}}).catch(function(e){console.log(e)})}}},62:function(e,a,t){var n=t(12);e.exports={AmazonFind:function(e){var a={api_key:"97C79A1E26C2423DACAFAD3348DB4E79",type:"search",amazon_domain:"amazon.com",search_term:e,sort_by:"average_review"};return n.get("https://api.rainforestapi.com/request",{params:a}).catch(function(e){console.log(e)})}}},63:function(e,a,t){var n=t(12);e.exports={TargetFind:function(e){return n({method:"GET",url:"https://target-com-store-product-reviews-locations-data.p.rapidapi.com/product/search",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"target-com-store-product-reviews-locations-data.p.rapidapi.com","x-rapidapi-key":"a60de64e9amshbc8b025a1d49262p15a2afjsn89c21e842c0c",useQueryString:!0},params:{sponsored:"1",limit:"20",offset:"0",store_id:"3991",keyword:e}}).catch(function(e){console.log(e)})}}},67:function(e,a,t){e.exports=t(115)},72:function(e,a,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.8fe1e3da.chunk.js.map